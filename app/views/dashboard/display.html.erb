<!DOCTYPE html>
<html>
  <head>
    <title>TV Tracker - Dashboard</title>
  </head>
  <body>
    <div class="main-content dash-container text-center">

      <div class="title-container">
        <div class="title-links-container">
          <div class="title-links">
            <p id="coll-click" class="dashboard"><span>Collection</span></p>
            <p id="sched-click" class="dashboard"><span>Schedule</span></p>
          </div>
          <hr id="slide-hr" />
        </div>
      </div>
      <div class="tab-container">
        <div class="coll-tab">
          <div class="all_shows">
            <% if @showCount == 0 %> <!-- actual show list starts at count 2, thus why < 2 for no shows -->
              <div id="empty-msg">
                <p>You haven't added any shows to your collection yet!
                  You can do so by clicking <%= link_to "/search" do %>here.<% end %></p>
              </div>
            <% elsif @showCount > 0 %>
              <div id="post-cont-deleg" class="show_list">
                <!-- for each show connected to the current user -->
                <% @showInfo.each do |obj| %>
                  <div class="poster-container <%= obj.shid %>">
                    <img class="poster" src="<%= obj.poster %>"></img>
                    <%= button_to "Info", info_path, remote: true, class: "info btn btn-outline-success btn-sm", "data-toggle": "modal", "data-target": "#showModal"%>
                    <%= button_to "Remove", remove_path, remote: true, class: "remove btn btn-outline-success btn-sm" %>
                  </div>
                <% end %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="sched-tab">
          <script type="text/javascript">
            <%= render partial: 'schedule.js'%>
          </script>
          <div class="sched-container">
            <div id="day-1-cont" class="day-cont">
              <div id="day-1-date" class="day-dates">
                Today
              </div>
              <div id="day-1-shows" class="day-shows">
              </div>
            </div>
            <div id="day-2-cont" class="day-cont">
              <div id="day-2-date" class="day-dates">
                Tomorrow
              </div>
              <div id="day-2-shows" class="day-shows">
              </div>
            </div>
            <div id="day-3-cont" class="day-cont">
              <div id="day-3-date" class="day-dates">

              </div>
              <div id="day-3-shows" class="day-shows">
              </div>
            </div>
            <div id="day-4-cont" class="day-cont">
              <div id="day-4-date" class="day-dates">

              </div>
              <div id="day-4-shows" class="day-shows">
              </div>
            </div>
            <div id="day-5-cont" class="day-cont">
              <div id="day-5-date" class="day-dates">

              </div>
              <div id="day-5-shows" class="day-shows">
              </div>
            </div>
            <div id="day-6-cont" class="day-cont">
              <div id="day-6-date" class="day-dates">

              </div>
              <div id="day-6-shows" class="day-shows">
              </div>
            </div>
            <div id="day-7-cont" class="day-cont">
              <div id="day-7-date" class="day-dates">

              </div>
              <div id="day-7-shows" class="day-shows">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal not visible until info button is clicked -->
    <div class="modal fade" id="showModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content info-box">
          <div class="modal-header">
            <div class="show-info col-md-9">
              <!-- 'show_info_modal' partial rendered here when info button is clicked  -->
            </div>
            <!-- <div class="close-button-modal col-md-3">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div> -->
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
