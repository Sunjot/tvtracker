
// the .off prevents an extra event handler from being added every execution...not sure why
$('.button_to').off('ajax:success').on('ajax:success', function() {

  /* .closest gets us the parent with the .show-desc class name.
  using that as the root element, we look for the child with the show-name class name (the header).
  finally, we grab the html inside it, which is the show name */
  var name = $(this).closest(".show-desc")[0].getElementsByClassName('show-name')[0].innerHTML;

  /* .closest gets us the parent with the .show class name.
  then we look for the class attribute and extract the last portion of it, which contains the show id */
  var id = $(this).closest(".show").attr('class').split(" ")[3];

  $.ajax({type: "post", url: "/add", data: {shName: name, shID: id}}) // send show name back to controller action
});
